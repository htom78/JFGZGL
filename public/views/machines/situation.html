<section data-ng-controller="SituationController" data-ng-init="gain(Pagination())">
    <div>
        快速查找：<input ng-model='searchBar'>
    </div>
    <table class="table table-hover table-bordered table-condensed" >
        <caption><h2>上机情况统计</h2></caption>
        <thead>
            <tr>
                <th >姓名&nbsp;<a ng-click="sort_by('')"><i class="icon-chevron-down"></i></a></th>
                <th>学号&nbsp;<a ng-click="sort_by('')"><i class="icon-chevron-down"></i></a></th>
                <th>手机号码&nbsp;<a ng-click="sort_by('')"><i class="icon-chevron-down"></i></a></th>
                <th>机器号&nbsp;<a ng-click="sort_by('')"><i class="icon-chevron-down"></i></a></th>
                <th>上机时间&nbsp;<a ng-click="sort_by('')"><i class="icon-chevron-down"></i></a></th>
                <th>下机时间&nbsp;<a ng-click="sort_by('')"><i class="icon-chevron-down"></i></a></th>
                <th>上机日期&nbsp;<a ng-click="sort_by('')"><i class="icon-chevron-down"></i></a></th>
                <th>留言&nbsp;<a ng-click="sort_by('')"><i class="icon-chevron-down"></i></a></th>
            </tr>
        </thead>
        <tbody data-ng-repeat="situation in filteredTodos | filter:searchBar" ng-init="hide = true">
            <tr >
                <td ng-bind="situation.name"></td>
                <td ng-bind="situation.sno"></td>
                <td ng-bind="situation.tel"></td>
                <td ng-bind="situation.machineId"></td>
                <td ng-bind="situation.useOn | date:'h:m a'"></td>
                <td ng-bind="situation.useOff | date:'h:m a'"></td>
                <td ng-bind="situation.useOn | date:'yyyy-MM-dd' "></td>
                <td ng-init="show = showButton(situation.note)">
                    <button ng-hide="show" class="btn btn-default" ng-click="hide = !hide">显/隐</button>
                </td>
            </tr>
            <tr ng-hide="hide">
                <td colspan="8"><pre class="well well-lg" ng-bind="situation.note"></pre></td>
            </tr>
        </tbody>
    </table>

    <pagination total-items="situations.length" page="currentPage" class="pagination-sm"
         boundary-links="true" rotate="false" num-pages="numPages"></pagination>
    <pre>Page: {{currentPage}} / {{numPages}}</pre>

</section>